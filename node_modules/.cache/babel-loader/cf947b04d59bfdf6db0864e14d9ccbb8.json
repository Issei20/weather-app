{"ast":null,"code":"import _asyncToGenerator from\"/home/atsal/Desktop/perso-pro/weather-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/atsal/Desktop/perso-pro/weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/atsal/Desktop/perso-pro/weather-app/node_modules/@babel/runtime/regenerator/index.js\";import'./style.scss';import React,{useState}from\"react\";import loading from\"./images/loading.svg\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCloudBolt,faCloud,faSun,faCloudSun,faCloudRain,faSnowflake,faSmog,faSortUp,faSortDown,faAngleUp,faAngleDown}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fewCloudsIcon=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"weathIcon\",icon:faCloudSun});var cloudsIcon=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"weathIcon\",icon:faCloud});var snowIcon=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"weathIcon\",icon:faSnowflake});var rainIcon=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"weathIcon\",icon:faCloudRain});var mistIcon=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"weathIcon\",icon:faSmog});var thunderIcon=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"weathIcon\",icon:faCloudBolt});var sunIcon=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"weathIcon\",icon:faSun});var angleUp=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"angleIcon angleIconUp\",icon:faAngleUp});var angleDown=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"angleIcon angleIconDown\",icon:faAngleDown});function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),weather=_useState6[0],setWeather=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loadingLoop=_useState8[0],setLoadingLoop=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isErr=_useState10[0],setIsErr=_useState10[1];function toggleClass(){setIsActive(!isActive);}// Fetch openweather api and assign the result to weather state\nfunction processData(){return _processData.apply(this,arguments);}function _processData(){_processData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsErr(false);setLoadingLoop(true);fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(searchValue,\"&appid=1d1d06b0328958cd6e4ba9dc187233d9\")).then(function(res){// check result\nif(res.ok){console.log(res.status);return res.json();}else{if(res.status===404){setLoadingLoop(false);setWeather({});setIsErr(true);}setIsErr(true);setWeather({});setLoadingLoop(false);throw new Error(\"You have an error\");}}).then(function(result){// Assign result to weather state \nsetWeather(result);setSearchValue('');setLoadingLoop(false);}).catch(function(error){return console.log(error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _processData.apply(this,arguments);}function processDataKey(_x){return _processDataKey.apply(this,arguments);}//  Check if Celsius or Farhenheit (toggle button) and display weather data\nfunction _processDataKey(){_processDataKey=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(e.key===\"Enter\"){processData();}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _processDataKey.apply(this,arguments);}function renderData(){if(!isActive){return/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weatherLocation\",children:[weather.name,\", \",weather.sys.country]}),renderImg(),/*#__PURE__*/_jsx(\"div\",{className:\"weatherTemp\",children:Math.round(((weather.main.temp-273.15)*1.8+32+Number.EPSILON)*100)/100+\"°F \"}),/*#__PURE__*/_jsx(\"div\",{className:\"weatherDescr\",children:weather.weather[0].description}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-max-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weatherTempMin\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:\"Min\"}),\" \",Math.round(((weather.main.temp_min-273.15)*1.8+32+Number.EPSILON)*100)/100+\"°F \",/*#__PURE__*/_jsx(\"div\",{children:angleDown})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weatherTempMax\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:\"Max\"}),\" \",Math.round(((weather.main.temp_max-273.15)*1.8+32+Number.EPSILON)*100)/100+\"°F \",/*#__PURE__*/_jsx(\"div\",{children:angleUp})]})]})]});}else if(isActive){return/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weatherLocation\",children:[weather.name,\", \",weather.sys.country]}),renderImg(),/*#__PURE__*/_jsx(\"div\",{className:\"weatherTemp\",children:Math.round((weather.main.temp-273.15+Number.EPSILON)*100)/100+\"°C \"}),/*#__PURE__*/_jsx(\"div\",{className:\"weatherDescr\",children:weather.weather[0].description}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-max-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weatherTempMin\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:\"Min\"}),\" \",Math.round((weather.main.temp_min-273.15+Number.EPSILON)*100)/100+\"°C \",/*#__PURE__*/_jsx(\"div\",{children:angleDown})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weatherTempMax\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{children:\"Max\"}),\" \",Math.round((weather.main.temp_max-273.15+Number.EPSILON)*100)/100+\"°C \",/*#__PURE__*/_jsx(\"div\",{children:angleUp})]})]})]});}}// Check what image to display, regarding the current weather description\nfunction renderImg(){if(weather.weather[0].description.includes(\"few clouds\")){return/*#__PURE__*/_jsx(\"div\",{children:fewCloudsIcon});}else if(weather.weather[0].description.includes(\"clouds\")){return/*#__PURE__*/_jsx(\"div\",{children:cloudsIcon});}else if(weather.weather[0].description.includes(\"mist\")){return/*#__PURE__*/_jsx(\"div\",{children:mistIcon});}else if(weather.weather[0].description.includes(\"snow\")){return/*#__PURE__*/_jsx(\"div\",{children:snowIcon});}else if(weather.weather[0].description.includes(\"clear sky\")){return/*#__PURE__*/_jsx(\"div\",{children:sunIcon});}else if(weather.weather[0].description.includes(\"rain\")){return/*#__PURE__*/_jsx(\"div\",{children:rainIcon});}else if(weather.weather[0].description.includes(\"thunderstorm\")){return/*#__PURE__*/_jsx(\"div\",{children:thunderIcon});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputContainer\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"userInput\",children:\"Search location\"}),/*#__PURE__*/_jsx(\"input\",{className:\"userInput\",spellcheck:\"false\",type:\"text\",value:searchValue,onChange:function onChange(e){return setSearchValue(e.target.value);},onKeyPress:processDataKey}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"searchBtn\",onClick:processData,children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"containerToggle\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Farhenheit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:isActive?\"toggled-btn\":\"toggle-btn\",onClick:function onClick(){return toggleClass();},children:/*#__PURE__*/_jsx(\"div\",{className:\"inner-circle\"})})}),/*#__PURE__*/_jsx(\"p\",{children:\"Celsius\"})]}),loadingLoop?/*#__PURE__*/_jsx(\"img\",{className:\"loader\",src:loading,alt:\"\"}):null]}),typeof(weather===null||weather===void 0?void 0:weather.main)!=\"undefined\"?/*#__PURE__*/_jsx(\"div\",{children:renderData()}):'',isErr?/*#__PURE__*/_jsx(\"p\",{className:\"msgErr\",children:\"Please try again with a correct location\"}):null]});}export default App;","map":{"version":3,"sources":["/home/atsal/Desktop/perso-pro/weather-app/src/App.js"],"names":["React","useState","loading","FontAwesomeIcon","faCloudBolt","faCloud","faSun","faCloudSun","faCloudRain","faSnowflake","faSmog","faSortUp","faSortDown","faAngleUp","faAngleDown","fewCloudsIcon","cloudsIcon","snowIcon","rainIcon","mistIcon","thunderIcon","sunIcon","angleUp","angleDown","App","isActive","setIsActive","searchValue","setSearchValue","weather","setWeather","loadingLoop","setLoadingLoop","isErr","setIsErr","toggleClass","processData","fetch","then","res","ok","console","log","status","json","Error","result","catch","error","processDataKey","e","key","renderData","name","sys","country","renderImg","Math","round","main","temp","Number","EPSILON","description","temp_min","temp_max","includes","target","value"],"mappings":"gYAAA,MAAO,cAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,WAAT,CAAsBC,OAAtB,CAA+BC,KAA/B,CAAsCC,UAAtC,CAAkDC,WAAlD,CAA+DC,WAA/D,CAA4EC,MAA5E,CAAoFC,QAApF,CAA8FC,UAA9F,CAA0GC,SAA1G,CAAqHC,WAArH,KAAyI,mCAAzI,C,wFAEA,GAAMC,CAAAA,aAAa,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,WAA3B,CAAuC,IAAI,CAAER,UAA7C,EAAtB,CACA,GAAMS,CAAAA,UAAU,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,WAA3B,CAAuC,IAAI,CAAEX,OAA7C,EAAnB,CACA,GAAMY,CAAAA,QAAQ,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,WAA3B,CAAuC,IAAI,CAAER,WAA7C,EAAjB,CACA,GAAMS,CAAAA,QAAQ,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,WAA3B,CAAuC,IAAI,CAAEV,WAA7C,EAAjB,CACA,GAAMW,CAAAA,QAAQ,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,WAA3B,CAAuC,IAAI,CAAET,MAA7C,EAAjB,CACA,GAAMU,CAAAA,WAAW,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,WAA3B,CAAuC,IAAI,CAAEhB,WAA7C,EAApB,CACA,GAAMiB,CAAAA,OAAO,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,WAA3B,CAAuC,IAAI,CAAEf,KAA7C,EAAhB,CACA,GAAMgB,CAAAA,OAAO,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,uBAA3B,CAAmD,IAAI,CAAET,SAAzD,EAAhB,CACA,GAAMU,CAAAA,SAAS,cAAG,KAAC,eAAD,EAAiB,SAAS,CAAC,yBAA3B,CAAqD,IAAI,CAAET,WAA3D,EAAlB,CAEA,QAASU,CAAAA,GAAT,EAAe,CACZ,cAAgCvB,QAAQ,CAAC,KAAD,CAAxC,wCAAOwB,QAAP,eAAiBC,WAAjB,eACA,eAAsCzB,QAAQ,CAAC,EAAD,CAA9C,yCAAO0B,WAAP,eAAoBC,cAApB,eACA,eAA8B3B,QAAQ,CAAC,EAAD,CAAtC,yCAAO4B,OAAP,eAAgBC,UAAhB,eACA,eAAsC7B,QAAQ,CAAC,KAAD,CAA9C,yCAAO8B,WAAP,eAAoBC,cAApB,eACA,eAA0B/B,QAAQ,CAAC,KAAD,CAAlC,0CAAOgC,KAAP,gBAAcC,QAAd,gBAEA,QAASC,CAAAA,WAAT,EAAuB,CAClBT,WAAW,CAAC,CAACD,QAAF,CAAX,CACH,CAED;AAXW,QAYCW,CAAAA,WAZD,2IAYd,mIACEF,QAAQ,CAAC,KAAD,CAAR,CACAF,cAAc,CAAC,IAAD,CAAd,CACDK,KAAK,4DAAqDV,WAArD,4CAAL,CACGW,IADH,CACQ,SAAAC,GAAG,CAAI,CAAE;AACb,GAAIA,GAAG,CAACC,EAAR,CAAY,CACVC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,MAAhB,EACA,MAAOJ,CAAAA,GAAG,CAACK,IAAJ,EAAP,CACD,CAHD,IAGO,CACL,GAAIL,GAAG,CAACI,MAAJ,GAAe,GAAnB,CAAwB,CACtBX,cAAc,CAAC,KAAD,CAAd,CACAF,UAAU,CAAC,EAAD,CAAV,CACAI,QAAQ,CAAC,IAAD,CAAR,CACD,CACDA,QAAQ,CAAC,IAAD,CAAR,CACAJ,UAAU,CAAC,EAAD,CAAV,CACAE,cAAc,CAAC,KAAD,CAAd,CACA,KAAM,IAAIa,CAAAA,KAAJ,CAAU,mBAAV,CAAN,CACD,CACF,CAhBH,EAiBGP,IAjBH,CAiBQ,SAAAQ,MAAM,CAAI,CAAE;AAChBhB,UAAU,CAACgB,MAAD,CAAV,CACAlB,cAAc,CAAC,EAAD,CAAd,CACAI,cAAc,CAAC,KAAD,CAAd,CACD,CArBH,EAsBGe,KAtBH,CAsBS,SAACC,KAAD,QAAWP,CAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ,CAAX,EAtBT,EAHD,sDAZc,sDA0CEC,CAAAA,cA1CF,mDAgDX;AAhDW,mGA0Cb,kBAA8BC,CAA9B,sHACE,GAAGA,CAAC,CAACC,GAAF,GAAU,OAAb,CAAsB,CACpBf,WAAW,GACX,CAHJ,wDA1Ca,iDAiDX,QAASgB,CAAAA,UAAT,EAAsB,CACpB,GAAG,CAAC3B,QAAJ,CAAc,CACZ,mBACE,aAAK,SAAS,CAAC,kBAAf,wBACA,aAAK,SAAS,CAAC,iBAAf,WAAkCI,OAAO,CAACwB,IAA1C,MAAkDxB,OAAO,CAACyB,GAAR,CAAYC,OAA9D,GADA,CAECC,SAAS,EAFV,cAGA,YAAK,SAAS,CAAC,aAAf,UAA+BC,IAAI,CAACC,KAAL,CAAW,CAAE,CAAC7B,OAAO,CAAC8B,IAAR,CAAaC,IAAb,CAAmB,MAApB,EAA4B,GAA7B,CAAkC,EAAlC,CAAuCC,MAAM,CAACC,OAA/C,EAA0D,GAArE,EAA4E,GAA5E,CAAkF,KAAjH,EAHA,cAIA,YAAK,SAAS,CAAC,cAAf,UAA+BjC,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAlD,EAJA,cAKA,aAAK,SAAS,CAAC,mBAAf,wBACA,aAAK,SAAS,CAAC,gBAAf,4BAAiC,4BAAjC,KAAkDN,IAAI,CAACC,KAAL,CAAW,CAAE,CAAC7B,OAAO,CAAC8B,IAAR,CAAaK,QAAb,CAAuB,MAAxB,EAAgC,GAAjC,CAAsC,EAAtC,CAA2CH,MAAM,CAACC,OAAnD,EAA8D,GAAzE,EAAgF,GAAhF,CAAsF,KAAxI,cAA8I,qBAAMvC,SAAN,EAA9I,GADA,cAEA,aAAK,SAAS,CAAC,gBAAf,4BAAiC,4BAAjC,KAAkDkC,IAAI,CAACC,KAAL,CAAW,CAAE,CAAC7B,OAAO,CAAC8B,IAAR,CAAaM,QAAb,CAAuB,MAAxB,EAAgC,GAAjC,CAAsC,EAAtC,CAA2CJ,MAAM,CAACC,OAAnD,EAA8D,GAAzE,EAAgF,GAAhF,CAAsF,KAAxI,cAA8I,qBAAMxC,OAAN,EAA9I,GAFA,GALA,GADF,CAYD,CAbD,IAaO,IAAIG,QAAJ,CAAc,CACrB,mBACE,aAAK,SAAS,CAAC,kBAAf,wBACA,aAAK,SAAS,CAAC,iBAAf,WAAkCI,OAAO,CAACwB,IAA1C,MAAkDxB,OAAO,CAACyB,GAAR,CAAYC,OAA9D,GADA,CAECC,SAAS,EAFV,cAGA,YAAK,SAAS,CAAC,aAAf,UAA8BC,IAAI,CAACC,KAAL,CAAW,CAAC7B,OAAO,CAAC8B,IAAR,CAAaC,IAAb,CAAoB,MAApB,CAA6BC,MAAM,CAACC,OAArC,EAAgD,GAA3D,EAAkE,GAAlE,CAAwE,KAAtG,EAHA,cAIA,YAAK,SAAS,CAAC,cAAf,UAA+BjC,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAlD,EAJA,cAKA,aAAK,SAAS,CAAC,mBAAf,wBACA,aAAK,SAAS,CAAC,gBAAf,4BAAiC,4BAAjC,KAAiDN,IAAI,CAACC,KAAL,CAAW,CAAC7B,OAAO,CAAC8B,IAAR,CAAaK,QAAb,CAAwB,MAAxB,CAAiCH,MAAM,CAACC,OAAzC,EAAoD,GAA/D,EAAsE,GAAtE,CAA4E,KAA7H,cAAmI,qBAAMvC,SAAN,EAAnI,GADA,cAEA,aAAK,SAAS,CAAC,gBAAf,4BAAiC,4BAAjC,KAAiDkC,IAAI,CAACC,KAAL,CAAW,CAAC7B,OAAO,CAAC8B,IAAR,CAAaM,QAAb,CAAwB,MAAxB,CAAiCJ,MAAM,CAACC,OAAzC,EAAoD,GAA/D,EAAsE,GAAtE,CAA4E,KAA7H,cAAmI,qBAAMxC,OAAN,EAAnI,GAFA,GALA,GADF,CAYC,CACF,CAED;AACE,QAASkC,CAAAA,SAAT,EAAqB,CACnB,GAAG3B,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAnB,CAA+BG,QAA/B,CAAwC,YAAxC,CAAH,CAA0D,CACxD,mBAAQ,qBAAMnD,aAAN,EAAR,CACH,CAFC,IAEK,IAAGc,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAnB,CAA+BG,QAA/B,CAAwC,QAAxC,CAAH,CAAsD,CACzD,mBAAQ,qBAAMlD,UAAN,EAAR,CACH,CAFM,IAEA,IAAGa,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAnB,CAA+BG,QAA/B,CAAwC,MAAxC,CAAH,CAAoD,CACvD,mBAAQ,qBAAM/C,QAAN,EAAR,CACH,CAFM,IAEA,IAAGU,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAnB,CAA+BG,QAA/B,CAAwC,MAAxC,CAAH,CAAoD,CACvD,mBAAQ,qBAAMjD,QAAN,EAAR,CACH,CAFM,IAEA,IAAGY,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAnB,CAA+BG,QAA/B,CAAwC,WAAxC,CAAH,CAAyD,CAC5D,mBAAQ,qBAAM7C,OAAN,EAAR,CACH,CAFM,IAEA,IAAGQ,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAnB,CAA+BG,QAA/B,CAAwC,MAAxC,CAAH,CAAoD,CACvD,mBAAQ,qBAAMhD,QAAN,EAAR,CACH,CAFM,IAEA,IAAGW,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBkC,WAAnB,CAA+BG,QAA/B,CAAwC,cAAxC,CAAH,CAA4D,CAC/D,mBAAQ,qBAAM9C,WAAN,EAAR,CACH,CACF,CAEH,mBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,cAAO,GAAG,CAAC,WAAX,6BADF,cAEE,cAAO,SAAS,CAAC,WAAjB,CAA6B,UAAU,CAAC,OAAxC,CAAgD,IAAI,CAAC,MAArD,CAA4D,KAAK,CAAEO,WAAnE,CAAgF,QAAQ,CAAE,kBAAAuB,CAAC,QAAItB,CAAAA,cAAc,CAACsB,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAlB,EAA3F,CAA+H,UAAU,CAAEnB,cAA3I,EAFF,cAGE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,WAAhC,CAA6C,OAAO,CAAEb,WAAtD,oBAHF,cAIE,aAAK,SAAS,CAAC,iBAAf,wBACI,iCADJ,cAEI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAEX,QAAQ,CAAG,aAAH,CAAmB,YAA3C,CAAyD,OAAO,CAAE,yBAAMU,CAAAA,WAAW,EAAjB,EAAlE,uBACI,YAAK,SAAS,CAAC,cAAf,EADJ,EADJ,EAFJ,cAOI,8BAPJ,GAJF,CAaMJ,WAAW,cAAG,YAAK,SAAS,CAAC,QAAf,CAAwB,GAAG,CAAE7B,OAA7B,CAAsC,GAAG,CAAC,EAA1C,EAAH,CAAyD,IAb1E,GADF,CAgBQ,OAAO2B,OAAP,SAAOA,OAAP,iBAAOA,OAAO,CAAE8B,IAAhB,GAAwB,WAAzB,cACC,qBACDP,UAAU,EADT,EADD,CAIM,EApBb,CAsBMnB,KAAK,cAAI,UAAG,SAAS,CAAC,QAAb,sDAAJ,CAAyE,IAtBpF,GADF,CA2BD,CAED,cAAeT,CAAAA,GAAf","sourcesContent":["import './style.scss';\nimport React, { useState,} from \"react\";\nimport loading from \"./images/loading.svg\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCloudBolt, faCloud, faSun, faCloudSun, faCloudRain, faSnowflake, faSmog, faSortUp, faSortDown, faAngleUp, faAngleDown  } from '@fortawesome/free-solid-svg-icons'\n\nconst fewCloudsIcon = <FontAwesomeIcon className=\"weathIcon\" icon={faCloudSun} />\nconst cloudsIcon = <FontAwesomeIcon className=\"weathIcon\" icon={faCloud} />\nconst snowIcon = <FontAwesomeIcon className=\"weathIcon\" icon={faSnowflake} />\nconst rainIcon = <FontAwesomeIcon className=\"weathIcon\" icon={faCloudRain} />\nconst mistIcon = <FontAwesomeIcon className=\"weathIcon\" icon={faSmog} />\nconst thunderIcon = <FontAwesomeIcon className=\"weathIcon\" icon={faCloudBolt} />\nconst sunIcon = <FontAwesomeIcon className=\"weathIcon\" icon={faSun} />\nconst angleUp = <FontAwesomeIcon className=\"angleIcon angleIconUp\" icon={faAngleUp} />\nconst angleDown = <FontAwesomeIcon className=\"angleIcon angleIconDown\" icon={faAngleDown}/>\n\nfunction App() {\n   const [isActive, setIsActive] = useState(false)\n   const [searchValue, setSearchValue] = useState('')\n   const [weather, setWeather] = useState({})\n   const [loadingLoop, setLoadingLoop] = useState(false);\n   const [isErr, setIsErr] = useState(false)\n   \n   function toggleClass() {\n        setIsActive(!isActive)      \n    }\n\n    // Fetch openweather api and assign the result to weather state\n async function processData() {\n   setIsErr(false)\n   setLoadingLoop(true)\n  fetch(`http://api.openweathermap.org/data/2.5/weather?q=${searchValue}&appid=1d1d06b0328958cd6e4ba9dc187233d9`)\n    .then(res => { // check result\n      if (res.ok) {\n        console.log(res.status);\n        return res.json();\n      } else {\n        if (res.status === 404) {\n          setLoadingLoop(false)\n          setWeather({});\n          setIsErr(true)\n        }\n        setIsErr(true)\n        setWeather({});\n        setLoadingLoop(false)\n        throw new Error(\"You have an error\");\n      }\n    })\n    .then(result => { // Assign result to weather state \n      setWeather(result);\n      setSearchValue('') \n      setLoadingLoop(false)\n    })\n    .catch((error) => console.log(error));\n\n\n    }\n\n  async function processDataKey(e) {\n    if(e.key === \"Enter\") { \n      processData()\n     }\n    }\n\n    //  Check if Celsius or Farhenheit (toggle button) and display weather data\n    function renderData() {\n      if(!isActive) {\n        return (\n          <div className=\"result-container\">\n          <div className=\"weatherLocation\">{weather.name}, {weather.sys.country}</div>\n          {renderImg()}\n          <div className=\"weatherTemp\">{ Math.round((((weather.main.temp -273.15)*1.8)+32 + Number.EPSILON) * 100) / 100 + \"°F \"}</div>\n          <div className=\"weatherDescr\">{weather.weather[0].description}</div>\n          <div className=\"min-max-container\">\n          <div className=\"weatherTempMin\"> <div>Min</div> { Math.round((((weather.main.temp_min -273.15)*1.8)+32 + Number.EPSILON) * 100) / 100 + \"°F \"}<div>{angleDown}</div></div>\n          <div className=\"weatherTempMax\"> <div>Max</div> { Math.round((((weather.main.temp_max -273.15)*1.8)+32 + Number.EPSILON) * 100) / 100 + \"°F \"}<div>{angleUp}</div></div>\n          </div>\n        </div>\n        )\n      } else if (isActive) {\n      return (\n        <div className=\"result-container\">\n        <div className=\"weatherLocation\">{weather.name}, {weather.sys.country}</div>\n        {renderImg()}\n        <div className=\"weatherTemp\">{Math.round((weather.main.temp - 273.15 + Number.EPSILON) * 100) / 100 + \"°C \"}</div>\n        <div className=\"weatherDescr\">{weather.weather[0].description}</div>\n        <div className=\"min-max-container\">\n        <div className=\"weatherTempMin\"> <div>Min</div> {Math.round((weather.main.temp_min - 273.15 + Number.EPSILON) * 100) / 100 + \"°C \"}<div>{angleDown}</div></div>\n        <div className=\"weatherTempMax\"> <div>Max</div> {Math.round((weather.main.temp_max - 273.15 + Number.EPSILON) * 100) / 100 + \"°C \"}<div>{angleUp}</div></div>\n        </div>\n      </div>\n      )\n      }\n    }\n\n    // Check what image to display, regarding the current weather description\n      function renderImg() {\n        if(weather.weather[0].description.includes(\"few clouds\")) {\n          return (<div>{fewCloudsIcon}</div>)\n      } else if(weather.weather[0].description.includes(\"clouds\")) {\n          return (<div>{cloudsIcon}</div>)\n      } else if(weather.weather[0].description.includes(\"mist\")) {\n          return (<div>{mistIcon}</div>)\n      } else if(weather.weather[0].description.includes(\"snow\")) {\n          return (<div>{snowIcon}</div>)\n      } else if(weather.weather[0].description.includes(\"clear sky\")) {\n          return (<div>{sunIcon}</div>)\n      } else if(weather.weather[0].description.includes(\"rain\")) {   \n          return (<div>{rainIcon}</div>)\n      } else if(weather.weather[0].description.includes(\"thunderstorm\")) {\n          return (<div>{thunderIcon}</div>)\n      }\n    }  \n\n  return (\n    <div className=\"container-app\">\n      <div className=\"inputContainer\">\n        <label for=\"userInput\">Search location</label>\n        <input className=\"userInput\" spellcheck=\"false\" type=\"text\" value={searchValue} onChange={e => setSearchValue(e.target.value)} onKeyPress={processDataKey}/>\n        <button type=\"submit\" className=\"searchBtn\"  onClick={processData}>Search</button>\n        <div className=\"containerToggle\">\n            <p>Farhenheit</p>\n            <div className=\"container\">\n                <div className={isActive ? \"toggled-btn\" : \"toggle-btn\"} onClick={() => toggleClass()}>\n                    <div className=\"inner-circle\"></div>\n                </div>\n             </div>\n            <p>Celsius</p>\n           </div>\n           {loadingLoop ? <img className=\"loader\" src={loading} alt=\"\"></img> : null}\n          </div>\n          {(typeof weather?.main != \"undefined\") ? (\n            <div>\n          {renderData()}\n          </div>\n            ) : ('')}\n         \n         {isErr ?  <p className=\"msgErr\">Please try again with a correct location</p> : null }\n    </div>\n  );\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}